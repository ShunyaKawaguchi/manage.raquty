function modifyIframeCode(e){return e=e.replace(/<iframe(.*?)>/,'<iframe$1 id="map-iframe">'),e=e.replace(/(width|height)=".*?"/g,""),e}window.addEventListener("DOMContentLoaded",function(){function e(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.querySelector('iframe[src*="google.com/maps"]');return!!r}var t=document.getElementById("venue_map"),n=document.getElementById("preview"),r=document.querySelector('input[type="submit"]'),o=document.getElementById("venue_notice");updatePreview=(()=>{var i=t.value,m=modifyIframeCode(i);n.innerHTML=m,""===i.trim()?(r.disabled=!0,o.textContent="Googleマップの埋め込みコードを入力してください。"):e(m)?(r.disabled=!1,o.textContent=""):(r.disabled=!0,o.textContent="Googleマップのiframeが含まれていません。")}),updatePreview(),t.addEventListener("input",updatePreview)});const insertForm=document.getElementById("Update_Venue_Form"),UpdateSubmitButton=document.getElementById("Update");UpdateSubmitButton.addEventListener("click",function(e){var t=document.getElementById("number_of_court"),n=parseInt(t.value);isNaN(n)||n<1?(alert("コートの面数は1以上の数字を入力してください。"),e.preventDefault()):(insertForm.action="/components/templates/venue_edit/update_data.php",insertForm.submit())});const DeleteSubmitButton=document.getElementById("Delete");DeleteSubmitButton.addEventListener("click",function(e){e.preventDefault(),insertForm.action=homeUrl("Tournament/Venue/Delete"),insertForm.submit()});