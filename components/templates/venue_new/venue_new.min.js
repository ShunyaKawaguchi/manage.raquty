function modifyIframeCode(e){return e=e.replace(/<iframe(.*?)>/,'<iframe$1 id="map-iframe">'),e=e.replace(/(width|height)=".*?"/g,""),e}window.addEventListener("DOMContentLoaded",function(){function e(){var e=n.value,a=modifyIframeCode(e);r.innerHTML=a,""===e.trim()?(o.disabled=!0,d.textContent="Googleマップの埋め込みコードを入力してください."):t(a)?(o.disabled=!1,d.textContent=""):(o.disabled=!0,d.textContent="Googleマップのiframeが含まれていません.")}function t(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.querySelector('iframe[src*="google.com/maps"]');return!!r}var n=document.getElementById("venue_map"),r=document.getElementById("preview"),o=document.querySelector('input[type="submit"]'),d=document.getElementById("venue_notice"),a=document.getElementById("Add_Venue_Form"),i=document.getElementById("Insert");e(),n.addEventListener("input",e),i.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("number_of_court"),n=parseInt(t.value);isNaN(n)||n<1?alert("コートの数は1以上の整数を入力してください."):(a.action="/components/templates/venue_new/insert_data.php",a.submit())})});