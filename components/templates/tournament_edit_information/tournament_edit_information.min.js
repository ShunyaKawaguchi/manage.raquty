document.addEventListener("DOMContentLoaded",function(){function e(){n.innerHTML="";const e=new Date(c.getFullYear(),c.getMonth(),1),a=new Date(c.getFullYear(),c.getMonth()+1,0),l=a.getDate(),i=e.getDay();let u=document.createElement("tr");const s=new Date(c.getFullYear(),c.getMonth(),0),m=s.getDate();for(let e=i-1;e>=0;e--){const t=document.createElement("td");t.textContent=m-e,t.classList.add("prev-month"),u.appendChild(t)}for(let e=1;e<=l;e++){const t=document.createElement("td");t.textContent=e;const d=`${c.getFullYear()}/${c.getMonth()+1}/${e}`;r.includes(d)&&t.classList.add("selected"),t.addEventListener("click",function(){const e=d;r.includes(e)?(r=r.filter(t=>t!==e),t.classList.remove("selected")):(r.push(e),t.classList.add("selected")),o.value=r.join(",")}),u.appendChild(t),7===u.children.length&&(n.appendChild(u),u=document.createElement("tr"))}let p=1;for(;u.children.length<7;){const e=document.createElement("td");e.textContent=p,e.classList.add("next-month"),u.appendChild(e),p++}n.appendChild(u),t(),d.textContent=`${c.getFullYear()}年${c.getMonth()+1}月`}function t(){const e=o.value.split(",").map(e=>e.trim()).filter(e=>""!==e);e.sort((e,t)=>{const n=new Date(e),d=new Date(t);return n-d}),o.value=e.filter(e=>r.includes(e)).join(",")}const n=document.getElementById("calendarBody"),d=document.getElementById("currentMonth"),a=document.getElementById("prevMonth"),l=document.getElementById("nextMonth"),o=document.getElementById("date");let c,i=o.value.split(",").map(e=>e.trim());i.length>0&&""!==i[0]?c=new Date(i[0]):(c=new Date,i=[]);let r=i;e(),a.addEventListener("click",function(){event.preventDefault(),c=new Date(c.getFullYear(),c.getMonth()-1,1),e()}),l.addEventListener("click",function(){event.preventDefault(),c=new Date(c.getFullYear(),c.getMonth()+1,1),e()}),o.addEventListener("input",function(){t()})});const UpdateForm=document.getElementById("Update_Form"),UpdateSubmitButton=document.getElementById("Update");UpdateSubmitButton.addEventListener("click",function(e){e.preventDefault(),UpdateForm.action="/components/templates/tournament_edit_information/update_data.php",UpdateForm.submit()});